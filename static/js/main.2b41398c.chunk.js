(this["webpackJsonpfunds-app"]=this["webpackJsonpfunds-app"]||[]).push([[0],{25:function(e,n,t){},46:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(19),s=t.n(c),d=(t(25),t(5)),i=t(6),u=t(8),h=t(7),l=t(10),o=t(4),j=t.n(o),f=t(20),b=t(11),m=t(3),p=t(9),g=t.n(p),O=t(0),x=(a.Component,function(e){Object(u.a)(t,e);var n=Object(h.a)(t);function t(e){var r;return Object(d.a)(this,t),(r=n.call(this,e)).handleAdd=Object(b.a)(j.a.mark((function e(){var n,t,a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={fund_name:"Fund ABCx",fund_manager:{fund_manager_id:"mjones@thefundone.com"}},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,g.a.post("http://132.145.210.248:8080/captain/funds",n,t);case 4:a=e.sent,c=a.data,s=[c].concat(Object(f.a)(r.state.funds)),r.setState({funds:s});case 8:case"end":return e.stop()}}),e)}))),r.handleDelete=function(e){var n="http://132.145.210.248:8080/captain/funds/"+e.fund_id;fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","API-Key":"secret"}});var t=r.state.funds.filter((function(n){return n.fund_id!==e.fund_id}));r.setState({funds:t})},r.handleShow=function(e){var n=r.state.funds.filter((function(n){return n.fund_id==e.fund_id}));r.setState({funds:n})},r.getFundList=function(){var e=r.state.funds;return console.log(e),Object(O.jsx)(a.Fragment,{children:e.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("button",{type:"button",onClick:function(){return r.handleShow(e)},className:"btn btn-light btn-sm",children:e.fund_id})}),Object(O.jsx)("td",{children:e.fund_name}),Object(O.jsx)("td",{children:e.fund_inception_date}),Object(O.jsx)("td",{children:e.fund_manager.fund_manager_id}),Object(O.jsx)("td",{children:e.fund_manager.fund_manager_name}),Object(O.jsx)("td",{children:e.fund_manager.fund_manager_phone}),Object(O.jsx)("td",{children:e.fund_manager.fund_manager_mail_address}),Object(O.jsx)("td",{children:e.fund_manager.fund_manager_birth_date}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{type:"button",onClick:function(){return r.handleDelete(e)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e.fund_id)}))})},r.state={url:"http://132.145.210.248:8080/captain/funds",funds:[],name:"",manager:"",managers:""},r.handleChange=r.handleChange.bind(Object(m.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(m.a)(r)),r}return Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var n,t,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://132.145.210.248:8080/captain/funds");case 2:return n=e.sent,t=n.data,this.setState({funds:t}),e.next=7,g.a.get("http://132.145.210.248:8080/captain/fund_managers");case 7:a=e.sent,r=a.data,c=[],r.forEach((function(e){c.push(e.fund_manager_id)})),this.setState({managers:c});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(b.a)(j.a.mark((function e(n){var t,a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t=this.state,a=t.name,r=t.manager,this.state.managers.includes(r)){e.next=4;break}return e.abrupt("return",this.setState({noManager:!0}));case 4:return c={fund_name:a,fund_manager:{fund_manager_id:r}},s={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=8,g.a.post("http://132.145.210.248:8080/captain/funds",c,s);case 8:e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){this.state.funds;return Object(O.jsxs)(a.Fragment,{children:[this.state.noManager,Object(O.jsx)("form",{className:"form-control",onSubmit:this.handleSubmit,children:Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name"}),Object(O.jsx)("input",{name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleChange}),Object(O.jsx)("label",{htmlFor:"Manager",children:"Manager"}),Object(O.jsx)("input",{name:"manager",placeholder:"Manager",value:this.state.manager,onChange:this.handleChange}),Object(O.jsx)("button",{children:"Create Fund"})," "]})}),Object(O.jsxs)("table",{className:"table table-dark",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"ID"}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Inception Date"}),Object(O.jsx)("th",{children:"Manager ID"}),Object(O.jsx)("th",{children:"Manager Name"}),Object(O.jsx)("th",{children:"Manager Phone"}),Object(O.jsx)("th",{children:"Manager Mail"}),Object(O.jsx)("th",{children:"Manager DOB"})]})}),Object(O.jsx)("tbody",{children:this.getFundList()})]})]})}}]),t}(a.Component)),_=(t.p,t(46),function(e){Object(u.a)(t,e);var n=Object(h.a)(t);function t(){return Object(d.a)(this,t),n.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return Object(O.jsx)("main",{className:"container",children:Object(O.jsx)(x,{})})}}]),t}(a.Component)),v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,50)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,s=n.getTTFB;t(e),a(e),r(e),c(e),s(e)}))};t(47),t(48);s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(_,{})}),document.getElementById("root")),v()}},[[49,1,2]]]);
//# sourceMappingURL=main.2b41398c.chunk.js.map